[pytest]
# Timeout configuration - prevents hanging tests
timeout = 30
timeout_method = thread

# Basic options
addopts = -q --strict-markers -ra --tb=short

# Markers
markers = 
    integration: marks tests as integration (deselect with '-m "not integration"')
    unit: Unit tests
    slow: Slow running tests
    requires_network: Tests requiring network access
    timeout: per-test timeout marker (pytest-timeout)

# Test discovery
testpaths = tests
python_files = test_*.py
python_functions = test_*
python_classes = Test*

# Python path
pythonpath = .

# Async configuration - using anyio for better compatibility
anyio_mode = auto

# Warnings
filterwarnings = ignore::DeprecationWarning

# Ignore integration directory requiring external services
norecursedirs = tests/integration tests/archived_stale_tests

# Minimum Python version
minversion = 3.8
